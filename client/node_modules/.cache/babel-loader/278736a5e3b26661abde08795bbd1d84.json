{"ast":null,"code":"import Matrix from './matrix';\nexport function covariance(xMatrix, yMatrix = xMatrix, options = {}) {\n  xMatrix = Matrix.checkMatrix(xMatrix);\n  let yIsSame = false;\n\n  if (typeof yMatrix === 'object' && !Matrix.isMatrix(yMatrix) && !Array.isArray(yMatrix)) {\n    options = yMatrix;\n    yMatrix = xMatrix;\n    yIsSame = true;\n  } else {\n    yMatrix = Matrix.checkMatrix(yMatrix);\n  }\n\n  if (xMatrix.rows !== yMatrix.rows) {\n    throw new TypeError('Both matrices must have the same number of rows');\n  }\n\n  const _options = options,\n        _options$center = _options.center,\n        center = _options$center === void 0 ? true : _options$center;\n\n  if (center) {\n    xMatrix = xMatrix.center('column');\n\n    if (!yIsSame) {\n      yMatrix = yMatrix.center('column');\n    }\n  }\n\n  const cov = xMatrix.transpose().mmul(yMatrix);\n\n  for (let i = 0; i < cov.rows; i++) {\n    for (let j = 0; j < cov.columns; j++) {\n      cov.set(i, j, cov.get(i, j) * (1 / (xMatrix.rows - 1)));\n    }\n  }\n\n  return cov;\n}","map":null,"metadata":{},"sourceType":"module"}